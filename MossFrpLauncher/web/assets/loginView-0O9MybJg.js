import{r as m,o as f,h as g,a as l,w as i,y,m as I,k as u,p as w,l as x,b as V}from"./index-BrLNn1aF.js";import{r as _,s as b}from"./index-BA-sX6zH.js";import{_ as S}from"./_plugin-vue_export-helper-DlAUqK2U.js";const h=n=>(w("data-v-b19b43d5"),n=n(),x(),n),k={class:"main"},C=h(()=>V("h3",{style:{color:"var(--white-color)","text-align":"center"}},"登录",-1)),N={__name:"loginView",setup(n){const o=m(),t=m(),r=JSON.parse(localStorage.getItem("userInfo"));r&&_.login(r.loginType,r.account,r.password,!0);function d(a){location.hash=a}function v(){var a=o.value.indexOf("@")==-1?"userID":"email";_.login(a,o.value,t.value),localStorage.setItem("userInfo",JSON.stringify({loginType:a,account:o.value,password:b.sha256(t.value)}))}return(a,e)=>{const c=y,p=I;return f(),g("div",k,[C,l(c,{modelValue:o.value,"onUpdate:modelValue":e[0]||(e[0]=s=>o.value=s),class:"inp",placeholder:"邮箱/UID"},null,8,["modelValue"]),l(c,{modelValue:t.value,"onUpdate:modelValue":e[1]||(e[1]=s=>t.value=s),type:"password",class:"inp",placeholder:"密码"},null,8,["modelValue"]),l(p,{type:"primary",outline:"",text:"",onClick:e[2]||(e[2]=s=>d("#/reSetPassword"))},{default:i(()=>[u("忘记密码？")]),_:1}),l(p,{type:"primary",class:"btn",onClick:v,disabled:!o.value||!t.value},{default:i(()=>[u("登录")]),_:1},8,["disabled"]),l(p,{type:"primary",outline:"",text:"",style:{"margin-left":"50px"},onClick:e[3]||(e[3]=s=>d("#/register"))},{default:i(()=>[u("注册账户")]),_:1})])}}},U=S(N,[["__scopeId","data-v-b19b43d5"]]);export{U as default};
