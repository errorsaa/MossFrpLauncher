import{r as s,g as d,G as $,o as x,h as I,b as i,t as m,u as L,a as l,w as n,F as O,m as P,j as J,A as K,k as u,H as D,p as Q,l as R,s as W,I as X,v as Y,x as Z,y as h}from"./index-BrLNn1aF.js";import{r as T}from"./index-BA-sX6zH.js";import{_ as ee}from"./_plugin-vue_export-helper-DlAUqK2U.js";const U=c=>(Q("data-v-534f0c61"),c=c(),R(),c),le={class:"boader"},oe=U(()=>i("h3",null,"账户与安全",-1)),ae={class:"account"},te=U(()=>i("span",null,"信息泄露？那就来这里",-1)),ne={class:"boader"},se=U(()=>i("h3",null,"启动器设置",-1)),ue=U(()=>i("h2",null,"主题设置",-1)),de={class:"popup"},pe={key:0,class:"email"},ie={key:1,class:"password"},re={key:2,class:"username"},ve={__name:"settingView",setup(c){const f=s(),_=s(),V=s(),y=s(),v=s(),k=s(),w=s(),g=s(!1),t=s("邮箱"),B=s(d.countdowns[0]),M=s(d.countdowns[1]),N=s(d.countdowns[2]),F=s(d.countdowns[3]),q=[B,M,N,F],z=[null,$.dark,$.md3Light,$.md3Dark];async function C(p,e=!0){var a=q[p];if(a.value=="获取"){T.verification(e?d.userInfo.email:e.value,"infoUpdate"),a.value=60,d.countdowns[p]=60;var S=setInterval(()=>{a.value--,d.countdowns[p]--},1e3);setTimeout(()=>{a.value="获取",d.countdowns[p]="获取",clearInterval(S)},6e4)}else W.warning("你想干什么?")}function A(){T.infoUpdate(t.value=="邮箱"?"email":t.value=="密码"?"password":"username",t.value=="邮箱"?v.value:t.value=="密码"?w.value:k.value,t.value=="邮箱"?f.value:t.value=="密码"?V.value:y.value,t.value=="邮箱"?_.value:null),g.value=!1}function b(p){localStorage.setItem("style",p),X(z[p])}function E(){localStorage.clear(),location.hash="/#/"}return(p,e)=>{const a=P,S=J,j=Y,G=Z,r=h,H=K;return x(),I(O,null,[i("div",le,[oe,i("span",ae,"当前登录账户："+m(L(d).userInfo.email),1),l(a,{type:"primary",style:{"margin-left":"590px"},onClick:E},{default:n(()=>[u("退出登录")]),_:1}),te,l(a,{type:"primary",onClick:e[0]||(e[0]=o=>g.value=!0),style:{"margin-left":"760px","margin-top":"5px"}},{default:n(()=>[u("修改用户信息")]),_:1})]),i("div",ne,[se,ue,l(S,{direction:"column",size:"large"},{default:n(()=>[l(a,{block:"",onClick:e[1]||(e[1]=()=>b(0))},{default:n(()=>[u("Material Design 2 亮色")]),_:1}),l(a,{block:"",onClick:e[2]||(e[2]=()=>b(1))},{default:n(()=>[u("Material Design 2 暗色")]),_:1}),l(a,{block:"",onClick:e[3]||(e[3]=()=>b(2))},{default:n(()=>[u("Material Design 3 亮色")]),_:1}),l(a,{block:"",onClick:e[4]||(e[4]=()=>b(3))},{default:n(()=>[u("Material Design 3 暗色")]),_:1})]),_:1})]),l(H,{show:g.value,"onUpdate:show":e[17]||(e[17]=o=>g.value=o)},{default:n(()=>[i("div",de,[l(G,{modelValue:t.value,"onUpdate:modelValue":e[5]||(e[5]=o=>t.value=o)},{default:n(()=>[l(j,{label:"邮箱"}),l(j,{label:"密码"}),l(j,{label:"用户名"})]),_:1},8,["modelValue"]),t.value=="邮箱"?(x(),I("div",pe,[l(r,{modelValue:v.value,"onUpdate:modelValue":e[6]||(e[6]=o=>v.value=o),placeholder:"新邮箱"},null,8,["modelValue"]),l(r,{modelValue:f.value,"onUpdate:modelValue":e[7]||(e[7]=o=>f.value=o),placeholder:"旧邮箱验证码",class:"inp"},null,8,["modelValue"]),l(a,{type:"primary",onClick:e[8]||(e[8]=o=>C(0))},{default:n(()=>[u(m(B.value),1)]),_:1}),l(r,{modelValue:_.value,"onUpdate:modelValue":e[9]||(e[9]=o=>_.value=o),placeholder:"新邮箱验证码",class:"inp"},null,8,["modelValue"]),l(a,{type:"primary",onClick:e[10]||(e[10]=o=>C(1,!1)),disabled:!v.value},{default:n(()=>[u(m(M.value),1)]),_:1},8,["disabled"])])):D("",!0),t.value=="密码"?(x(),I("div",ie,[l(r,{modelValue:w.value,"onUpdate:modelValue":e[11]||(e[11]=o=>w.value=o),placeholder:"新密码",type:"password"},null,8,["modelValue"]),l(r,{modelValue:V.value,"onUpdate:modelValue":e[12]||(e[12]=o=>V.value=o),placeholder:"验证码",class:"inp"},null,8,["modelValue"]),l(a,{type:"primary",onClick:e[13]||(e[13]=o=>C(2))},{default:n(()=>[u(m(N.value),1)]),_:1})])):D("",!0),t.value=="用户名"?(x(),I("div",re,[l(r,{modelValue:k.value,"onUpdate:modelValue":e[14]||(e[14]=o=>k.value=o),placeholder:"新用户名"},null,8,["modelValue"]),l(r,{modelValue:y.value,"onUpdate:modelValue":e[15]||(e[15]=o=>y.value=o),placeholder:"验证码",class:"inp"},null,8,["modelValue"]),l(a,{type:"primary",onClick:e[16]||(e[16]=o=>C(3)),'"':""},{default:n(()=>[u(m(F.value),1)]),_:1})])):D("",!0),l(a,{type:"primary",style:{width:"80px","margin-left":"120px"},disabled:t.value=="邮箱"?!f.value||!_.value||!v.value:t.value=="密码"?!V.value||!w.value:!y.value||!k.value,onClick:A},{default:n(()=>[u(" 更新 ")]),_:1},8,["disabled"])])]),_:1},8,["show"])],64)}}},_e=ee(ve,[["__scopeId","data-v-534f0c61"]]);export{_e as default};
